---
author: Koen Vlaswinkel
date: 2016-12-12
language: ru
license: cc by-nc-sa
source: https://www.digitalocean.com/community/tutorials/java-apt-get-ubuntu-16-04-ru
---

# Как установить Java с помощью Apt-Get в Ubuntu 16.04

### Введение

Java и JVM (Виртуальная машина Java) широко используются в самом разном программном обеспечении. Эта статья описывает процесс установки и управления различными версиями Java с помощью утилиты `apt-get`.

## Перед установкой

Для того, чтобы следовать инструкциям в этой статье, вам необходимо:

- Сервер с Ubuntu 16.04.
- Не-рутовый пользователь, настроить которого вы можете с помощью инструкций в статье [“Начальная настройка сервера на Ubuntu 16.04”](initial-server-setup-with-ubuntu-16-04).

## Установка JRE/JDK в конфигурации по умолчанию

Самым простым способом установки Java является использование версии, распространяемой с Ubuntu. Этот способ позволит установить OpenJDK 8 - последнюю и рекомендуемую версию.

Сначала обновим список пакетов:

    sudo apt-get update

Затем установим Java. Эта команда установит Java Runtime Environment (JRE):

    sudo apt-get install default-jre

Существует вторая версия установки Java по умолчанию: JDK (Java Development Kit). Установка JDK обычно необходима, когда вы планируете компилировать Java-программы или в случае, когда используемое вами программное обеспечение в явном виде требует наличия JDK.

Установить JDK можно следующей командой:

    sudo apt-get install default-jdk

## Установка Oracle JDK

Для установки Oracle JDK, которая является официальной версией Java распространяемой компанией Oracle, вам необходимо выполнить несколько дополнительных шагов.

Сначала добавим PPA компании Oracle, затем обновим список пакетов:

    sudo add-apt-repository ppa:webupd8team/java
    sudo apt-get update

Далее, в зависимости от того, какую конкретно версию вы хотите установить, выполните одну из следующих команд:

### Oracle JDK 8

Это последняя стабильная версия на момент написания данной статьи, мы рекомендуем устанавливать именно её. Для установки выполните команду:

    sudo apt-get install oracle-java8-installer

### Oracle JDK 9

Это версия находится в состоянии developer preview, ее релиз запланирован на март 2017 года. Мы не рекомендуем установку этой версии, потому что в ней могут быть ошибки и проблемы с обеспечением безопасности. Узнать больше о Java 9 можно на [официальном сайте JDK 9](http://jdk.java.net/9/).

Для установки JDK 9 выполните следующую команду:

    sudo apt-get install oracle-java9-installer

## Управление версиями Java

Одновременно на одном и том же сервере может быть установлено более одной версии Java. Вы можете использовать утилиту `update-alternatives` для задания версии по умолчанию и создания ссылок (symbolic links) на разные версии.

    sudo update-alternatives --config java

Результатом этой команды будет вывод, похожий на представленный ниже. В этом примере мы видим, что все упомянутые выше версии Java были установлены.

Вывод

    There are 5 choices for the alternative java (providing /usr/bin/java).
    
      Selection Path Priority Status
    ------------------------------------------------------------
    * 0 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java 1081 auto mode
      1 /usr/lib/jvm/java-6-oracle/jre/bin/java 1 manual mode
      2 /usr/lib/jvm/java-7-oracle/jre/bin/java 2 manual mode
      3 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java 1081 manual mode
      4 /usr/lib/jvm/java-8-oracle/jre/bin/java 3 manual mode
      5 /usr/lib/jvm/java-9-oracle/bin/java 4 manual mode
    
    Press <enter> to keep the current choice[*], or type selection number:

Вы можете выбрать номер версии Java, которая будет использоваться по умолчанию. То же самое можно сделать для компилятора Java (`javac`), генератора документации (`javadoc`), инструмента для подписи JAR (`jarsigner`) и других средств. Введите следующую команду, заменяя `command` названием необходимого инструмента:

    sudo update-alternatives --config command

## Установка переменной окружения JAVA\_HOME

Многие программы, в том числе серверы Java, используют переменную окружения `JAVA_HOME` для определения места, где установлена Java. Для задания этой переменной нам необходимо понять, куда же была установлена Java. Для этого можно выполнить следующую команду:

    sudo update-alternatives --config java

Скопируйте необходимый пусть установки Java, а затем откройте `/etc/environment` в текстовом редакторе `nano` или любом другом текстовом редакторе на ваш выбор.

    sudo nano /etc/environment

Добавьте следующую строку в конец данного файла, заменив выделенный красным путь скопированным вами ранее путём к необходимой версии Java.

/etc/environment

    JAVA_HOME="/usr/lib/jvm/java-8-oracle"

Сохраните файл, закройте его и примените изменения следующей командой:

    source /etc/environment

Проверить внесённые изменения можно командой:

    echo $JAVA_HOME

Эта команда должна вернуть путь к выбранной вами версии Java.

## Заключение

Теперь у вас есть установленная Java и вы знаете, как управлять различными её версиями. Далее вы можете установить программное обеспечение, работающее на Java, например, Tomcat, Jetty, Glassfish, Cassandra или Jenkins.
